(window["webpackJsonpqr-reader"]=window["webpackJsonpqr-reader"]||[]).push([[0],{17:function(e,n,t){e.exports=t(32)},22:function(e,n,t){},32:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),r=t(10),c=t.n(r),i=(t(22),t(1)),l=t(11),u=t.n(l),s=t(2),d=t(3);function p(){var e=Object(s.a)(["\n    background: black;\n    color: white;\n    width: 100%;\n    height: 150px;\n    text-align: center;\n    display: block;\n    margin: auto;\n    font-size: 49px;\n    border: 13px white solid;\n"]);return p=function(){return e},e}function f(){var e=Object(s.a)(["\nposition: fixed;\n    left: 0;\n    bottom: 0;\n    width:100%;\n"]);return f=function(){return e},e}function h(){var e=Object(s.a)(["\n    font-size:20px;\n    white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n    &.rsvp {\n        text-align: center;\n        padding:22px;\n        text-decoration: ","\n    }\n    &.raptor {\n        color:deeppink;\n    }\n    &#selected{\n        background:limegreen;\n    }\n"]);return h=function(){return e},e}function b(){var e=Object(s.a)(["\n    display:flex;\n    background:black;\n    color:white;\n    justify-content: center;\n    flex-direction: column;\n    width: 90%;\n    margin: auto;\n"]);return b=function(){return e},e}function m(){var e=Object(s.a)(["\n    width: 90%;\n    display: block;\n    margin: 40px auto 16px;\n    border: 2px black solid;\n    height: 47px;\n    font-size: 30px;\n    text-align: center;\n"]);return m=function(){return e},e}function g(){var e=Object(s.a)(["\ndisplay:flex;\njustify-content:space-around;\ndiv {\n    border: 7px white solid;\n    width: 100%;\n    text-align: center;\n    background: black;\n    height: 50px;\n    color: white;\n    line-height: 50px;\n    font-size: 24px;\n    font-weight: bold;\n}\n"]);return g=function(){return e},e}var v=d.a.div(g()),j=d.a.input(m()),w=d.a.div(b()),O=d.a.div(h(),function(e){return e.boop}),E=d.a.div(f()),k=d.a.button(p()),x="https://eng.med--lab.org";var y=function(){var e=Object(o.useRef)(""),n=Object(o.useState)("search"),t=Object(i.a)(n,2),r=t[0],c=t[1],l=Object(o.useState)(""),s=Object(i.a)(l,2),d=s[0],p=s[1],f=Object(o.useState)(""),h=Object(i.a)(f,2),b=h[0],m=h[1],g=Object(o.useState)([]),y=Object(i.a)(g,2),S=y[0],C=y[1],T=Object(o.useState)([]),A=Object(i.a)(T,2),N=(A[0],A[1],Object(o.useState)("")),z=Object(i.a)(N,2),R=z[0],q=z[1],B=Object(o.useState)(""),D=Object(i.a)(B,2),I=D[0],J=D[1],H=Object(o.useState)(""),P=Object(i.a)(H,2),Q=P[0],L=P[1],W=Object(o.useState)(""),G=Object(i.a)(W,2),K=G[0],M=G[1],$=function(){if(b){var e={method:"GET",headers:{Authorization:"Bearer ".concat(b),"Content-Type":"application/json"}};fetch(x+"/user",e).then(function(e){return e.json()}).then(function(e){console.log(e);var n=e.raptors.choosers,t=e.rsvps.rsvps.concat(n);C(t.sort(function(e,n){return e.email>n.email?1:-1}))})}};return Object(o.useEffect)(function(){!function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"reader",password:"reader"})};fetch(x+"/auth/login",e).then(function(e){return e.json()}).then(function(e){console.log(e),m(e.token),localStorage.setItem("ttoken",e.token)})}()},[]),Object(o.useEffect)(function(){$()},[b]),console.log(S),a.a.createElement("div",{className:"App"},a.a.createElement(v,null,a.a.createElement("div",{onClick:function(){return c("search")}},"SEARCH"),a.a.createElement("div",{onClick:function(){return c("qr")}},"QR READER")),"qr"===r&&a.a.createElement("div",null,a.a.createElement(u.a,{delay:300,onError:function(e){console.log(e)},onScan:function(e){e&&(L(""),p(e))},style:{width:"100%"}}),a.a.createElement("div",{style:{textAlign:"center",width:"80%",margin:"auto"}},a.a.createElement("div",{style:{color:K}},Q),a.a.createElement("p",null,d),d&&a.a.createElement(k,{onClick:function(){console.log("sendQT");var e={method:"POST",headers:{Authorization:"Bearer ".concat(b),"Content-Type":"application/json"},body:JSON.stringify({qr:d})};fetch(x+"/toad/boop",e).then(function(e){return e.json()}).then(function(e){if(e.qrId&&(L("raptor has been successfully checked in :)"),M("green")),"booped"===e.data){var n="".concat(new Date(e.boopTime).toLocaleTimeString()," - ").concat(new Date(e.boopTime).toDateString());L("this QR was checked in @ ".concat(n)),M("red")}p("")})}},"SENDIT"))),"search"===r&&a.a.createElement("div",null,a.a.createElement(j,{placeholder:"SEARCH",ref:e,onChange:function(e){return J(e.target.value)}}),a.a.createElement(w,null,S.map(function(e,n){if(e.email.includes(I))return a.a.createElement(O,{key:e.email+n,onClick:function(e){return q({email:e.target.innerHTML,raptor:e.target.className})},id:e.email===R.email?"selected":"",className:e.raptorname?"raptor rsvp":"rsvp",boop:e.boop?"line-through":""},e.email)})),a.a.createElement(E,null,a.a.createElement(k,{onClick:function(){var e=R.raptor.includes("raptor")?"raptor":"";console.log(e);var n={method:"POST",headers:{Authorization:"Bearer ".concat(b),"Content-Type":"application/json"},body:JSON.stringify({email:R.email,raptor:e})};fetch(x+"/rsvp/boopemail",n).then(function(e){return e.json()}).then(function(e){console.log(e),$()})}},"CHECKIN"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.839e7660.chunk.js.map